define ("assignfeedback_essayscorer/feedbackgenerate",["exports","core/modal_factory","core/ajax"],function(a,b,c){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.init=void 0;b=d(b);c=d(c);function d(a){return a&&a.__esModule?a:{default:a}}var e=!1,f=function(a){var c=a.instruction,d=a.imagefilepath;if(!e){document.addEventListener("click",function handleClick(a){if("id_assignfeedbackessayscorer_generatescore"===a.target.id){g(c,d).then(function(a){a=a.replace(/\\n/g,"<br>");var c={title:"AI Generated Score and Feedback",body:"<p>".concat(a,"</p>"),large:!0};b.default.create(c).then(function(a){a.show()}).catch(function(a){console.error("Error displaying modal:",a)})}).catch(function(a){console.error("Error getting score feedback:",a)})}});e=!0}};a.init=f;var g=function(a,b){return new Promise(function(d,e){c.default.call([{methodname:"assignfeedback_essayscorer_get_scorefeedback",args:{instruction:a,imagefilepath:b},done:function done(a){d(a.feedback)},fail:function fail(a,b,c){var d={jqXHR:a,textStatus:b,errorThrown:c};e(d);console.error("AJAX call failed:",d)}}])})}});
//# sourceMappingURL=feedbackgenerate.min.js.map
